<!-- templates/signup.html -->

{% extends "base.html" %}

{% block content %}
    <div class="column is-4 is-offset-4">
        <h3 class="title">Add Data Instance</h3>
        <div class="box">
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <div class="notification is-danger">
                        {{ messages[0] }}
                    </div>
                {% endif %}
            {% endwith %}

            <form method="POST">

                <div class="card">
                    <div class="card-header">
                        Data Instance
                    </div>
                    <div class="card-body">
                        <div class="row">

                            <div class="col-12">
                                <div class="field">
                                    <div class="control form-group">
                                        <input class="input is-large form-control" type="text" name="name"
                                               placeholder="Name" required
                                               autofocus=""
                                               {% if data_instance %}value="{{ data_instance.name }}"{% endif %}>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12">
                                <div class="field">
                                    <div class="control form-group">
                                        <textarea class="form-control" type="text" name="description" placeholder="Description" autofocus="" required>{% if data_instance %}{{ data_instance.description }}{% endif %}</textarea>
                                    </div>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="field">
                                    <div class="control form-group">
                                        <select class="form-control" name="data_type">
                                            <option {% if data_instance and data_instance.data_type == "Video" %}selected{% endif %}>
                                                Video
                                            </option>
                                            <option {% if data_instance and data_instance.data_type == "Image" %}selected{% endif %}>
                                                Image
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="field">
                                    <div class="control form-group">
                                        <select class="form-control" name="scale_param">
                                            <option {% if data_instance and data_instance.scale_param == "1440x900" %}selected{% endif %}>
                                                1440x900
                                            </option>
                                            <option {% if data_instance and data_instance.scale_param == "1280x720" %}selected{% endif %}>
                                                1280x720
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="field">
                                    <div class="control form-group">
                                    <textarea class="form-control" type="text" name="ffmpeg_params" placeholder="FFmpeg Params" autofocus="" required>{% if data_instance and data_instance.ffmpeg_params %}{{ data_instance.ffmpeg_params }}{% endif %}</textarea>

                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="field">
                                    <div class="control form-group">
                                    <textarea class="form-control" type="text" name="ffmpeg_params_image" placeholder="FFmpeg Params" autofocus="" required>{% if data_instance and data_instance.ffmpeg_params_image %}{{ data_instance.ffmpeg_params_image }}{% endif %}</textarea>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="col-12">
                            <button class="btn btn-success" type="submit">Add Data Instance</button>
                        </div>

                    </div>
                </div>

            </form>
        </div>
    </div>

{% endblock %}